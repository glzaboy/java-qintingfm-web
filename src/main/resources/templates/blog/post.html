<!DOCTYPE html>
<html  lang="zh" xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" layout:decorate="~{layout/layout}">
<head>
    <title th:text="|${blog.title}-文章编辑|">文章编辑</title>
    <meta name="Keywords" content="keywords" th:content="|${blog.title},资讯,博客,时事要闻,qintingfm,microtf|">
    <meta name="description" content="资讯，博客，时事要闻" th:content="|${blog.title}资讯,博客,时事要闻|">
    <style>
        #content-container:before{
            display:none;
        }
    </style>
    <link href="//static.qintingfm.com/nifty/v2.9/plugins/dropzone/dropzone.min.css" rel="stylesheet"/>
</head>
<body>
<div id="page-content" layout:fragment="content">
    <div class="row pad-btm">
        <div class="col-sm-6 col-sm-offset-6 toolbar-right text-right">
            <button class="btn btn-primary">保存</button>
        </div>
    </div>
    <div class="row fixed-fluid">
        <div class="fixed-sm-300 pull-sm-right">
            <div class="panel">
                <div class="panel-body">
                    <p class="text-main text-bold text-uppercase">Featured Image</p>
                    <p>Featured images are images that represent an individual Post, Page, or Custom Post Type.</p>
                    <!--Dropzonejs-->
                    <!--===================================================-->
                    <div class="dropzone-container">
                        <form id="demo-dropzone" action="#">
                            <div class="dz-default dz-message">
                                <div class="dz-icon">
                                    <i class="demo-pli-upload-to-cloud icon-5x"></i>
                                </div>
                                <div>
                                    <span class="dz-text">Drop files to upload</span>
                                    <p class="text-sm text-muted">or click to pick manually</p>
                                </div>
                            </div>
                            <div class="fallback">
                                <form action="#" method="post" enctype="multipart/form-data">
                                    <input name="file" type="file" multiple="multiple"/>
                                </form>
                            </div>
                        </form>
                    </div>
                    <!--===================================================-->
                    <!-- End Dropzonejs -->


                    <hr/>

                    <p class="text-main text-bold text-uppercase">Publish</p>
                    <div class="form-horizontal">
                        <div class="form-group">
                            <label class="col-sm-5 control-label text-left" for="demo-hor-inputpass">Status</label>
                            <div class="col-sm-7">
                                <div class="select">
                                    <select>
                                        <option value="push">Published</option>
                                        <option value="push">Unpublish</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-sm-5 control-label text-left" for="demo-hor-inputpass">Categories</label>
                            <div class="col-sm-7">
                                <div class="select">
                                    <select>
                                        <option value="none" selected="" disabled="disabled">UnCategorized</option>
                                        <option value="push">Internet</option>
                                        <option value="push">Movies</option>
                                        <option value="push">Musics</option>
                                        <option value="push">Entertainment</option>
                                        <option value="push">Sports</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                    </div>

                    <hr/>

                    <p class="text-main text-sm text-uppercase text-bold">Public Settings</p>
                    <div class="form-horizontal">
                        <div class="form-group">
                            <label class="col-sm-5 control-label text-left" for="allow-comments">开启评论</label>
                            <div class="col-sm-7">
                                <input class="toggle-switch" id="allow-comments" type="checkbox" checked="checked"/>
                                <label for="allow-comments"></label>
                            </div>
                        </div>
                    </div>
                </div>
            </div>


        </div>
        <div class="fluid">
            <div class="form-group">
                <input type="text" placeholder="Blog Title" class="form-control input-lg" autofocus="autofocus" th:value="${blog.title}"/>
            </div>
            <div class="panel">
                <div class="panel-body">
                    <div th:utext="${blog.blogCont.cont}" class="editor"></div>
                </div>

            </div>
        </div>
    </div>
</div>
<div layout:fragment="footjs">
    <script src="//static.qintingfm.com/ckeditor5/build/ckeditor.js"></script>
    <script src="//static.qintingfm.com/ckeditor5/build/translations/zh-cn.js"></script>
    <script src="//static.qintingfm.com/nifty/v2.9/plugins/dropzone/dropzone.min.js"></script>
    <script>
        $(document).on('nifty.ready', function () {
            $('#demo-dropzone').dropzone({
                //url: '/file/post',
                //autoProcessQueue: false,
                addRemoveLinks: true,
                maxFiles: 1,
                init: function() {
                    var myDropzone = this;
                    myDropzone.on('maxfilesexceeded', function(file) {
                        this.removeAllFiles();
                        this.addFile(file);
                    });
                }
            });
            ClassicEditor
                .create( document.querySelector( '.editor' ), {
                    toolbar: {
                        items: [
                            'heading',
                            '|',
                            'bold',
                            'italic',
                            'underline',
                            'strikethrough',
                            'fontColor',
                            'fontBackgroundColor',
                            '|',
                            'bulletedList',
                            'numberedList',
                            '|',
                            'indent',
                            'outdent',
                            'alignment',
                            '|',
                            'link',
                            'imageUpload',
                            'mediaEmbed',
                            'blockQuote',
                            'codeBlock',
                            'insertTable',
                            'undo',
                            'redo',
                            '|',
                            'removeFormat',
                            'code'
                        ]
                    },
                    language: 'zh-cn',
                    image: {
                        toolbar: [
                            'imageTextAlternative',
                            'imageStyle:full',
                            'imageStyle:alignLeft',
                            'imageStyle:alignRight',
                            'imageStyle:side'
                        ]
                    },
                    table: {
                        contentToolbar: [
                            'tableColumn',
                            'tableRow',
                            'mergeTableCells',
                            'tableCellProperties',
                            'tableProperties'
                        ]
                    },
                    simpleUpload:{
                        uploadUrl: ':/uploadImage'
                    },
                    licenseKey: '',

                } )
                .then( editor => {
                    window.editor = editor;
                } )
                .catch( error => {
                    console.error( error );
                } );
        });
    </script>
</div>
</body>
</html>
